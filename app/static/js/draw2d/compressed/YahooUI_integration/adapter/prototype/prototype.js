/**
This notice must be untouched at all times.
This is the COMPRESSED version of Draw2D
WebSite: http://www.draw2d.org
Copyright: 2006 Andreas Herz. All rights reserved.
Created: 5.11.2006 by Andreas Herz (Web: http://www.freegroup.de )
LICENSE: LGPL
**/

var Prototype={Version:"1.5.0",BrowserFeatures:{XPath:!!document.evaluate},ScriptFragment:"(?:<script.*?>)((\n|\r|.)*?)(?:</script>)",emptyFunction:function(){},K:function(x){return x;}};var Class={create:function(){return function(){this.initialize.apply(this,arguments);};}};var Abstract={};Object.extend=function(_167c,_167d){for(var _167e in _167d){_167c[_167e]=_167d[_167e];}return _167c;};Object.extend(Object,{inspect:function(_167f){try{if(_167f===undefined){return "undefined";}if(_167f===null){return "null";}return _167f.inspect?_167f.inspect():_167f.toString();}catch(e){if(e instanceof RangeError){return "...";}throw e;}},keys:function(_1680){var keys=[];for(var _1682 in _1680){keys.push(_1682);}return keys;},values:function(_1683){var _1684=[];for(var _1685 in _1683){_1684.push(_1683[_1685]);}return _1684;},clone:function(_1686){return Object.extend({},_1686);}});Function.prototype.bind=function(){var _1687=this,args=$A(arguments),object=args.shift();return function(){return _1687.apply(object,args.concat($A(arguments)));};};Function.prototype.bindAsEventListener=function(_1688){var _1689=this,args=$A(arguments),_1688=args.shift();return function(event){return _1689.apply(_1688,[(event||window.event)].concat(args).concat($A(arguments)));};};Object.extend(Number.prototype,{toColorPart:function(){var _168b=this.toString(16);if(this<16){return "0"+_168b;}return _168b;},succ:function(){return this+1;},times:function(_168c){$R(0,this,true).each(_168c);return this;}});var Try={these:function(){var _168d;for(var i=0,length=arguments.length;i<length;i++){var _168f=arguments[i];try{_168d=_168f();break;}catch(e){}}return _168d;}};var PeriodicalExecuter=Class.create();PeriodicalExecuter.prototype={initialize:function(_1690,_1691){this.callback=_1690;this.frequency=_1691;this.currentlyExecuting=false;this.registerCallback();},registerCallback:function(){this.timer=setInterval(this.onTimerEvent.bind(this),this.frequency*1000);},stop:function(){if(!this.timer){return;}clearInterval(this.timer);this.timer=null;},onTimerEvent:function(){if(!this.currentlyExecuting){try{this.currentlyExecuting=true;this.callback(this);}finally{this.currentlyExecuting=false;}}}};String.interpret=function(value){return value===null?"":String(value);};Object.extend(String.prototype,{gsub:function(_1693,_1694){var _1695="",source=this,match;_1694=arguments.callee.prepareReplacement(_1694);while(source.length>0){if(match=source.match(_1693)){_1695+=source.slice(0,match.index);_1695+=String.interpret(_1694(match));source=source.slice(match.index+match[0].length);}else{_1695+=source,source="";}}return _1695;},sub:function(_1696,_1697,count){_1697=this.gsub.prepareReplacement(_1697);count=count===undefined?1:count;return this.gsub(_1696,function(match){if(--count<0){return match[0];}return _1697(match);});},scan:function(_169a,_169b){this.gsub(_169a,_169b);return this;},truncate:function(_169c,_169d){_169c=_169c||30;_169d=_169d===undefined?"...":_169d;return this.length>_169c?this.slice(0,_169c-_169d.length)+_169d:this;},strip:function(){return this.replace(/^\s+/,"").replace(/\s+$/,"");},stripTags:function(){return this.replace(/<\/?[^>]+>/gi,"");},stripScripts:function(){return this.replace(new RegExp(Prototype.ScriptFragment,"img"),"");},extractScripts:function(){var _169e=new RegExp(Prototype.ScriptFragment,"img");var _169f=new RegExp(Prototype.ScriptFragment,"im");return (this.match(_169e)||[]).map(function(_16a0){return (_16a0.match(_169f)||["",""])[1];});},evalScripts:function(){return this.extractScripts().map(function(_16a1){return eval(_16a1);});},escapeHTML:function(){var div=document.createElement("div");var text=document.createTextNode(this);div.appendChild(text);return div.innerHTML;},unescapeHTML:function(){var div=document.createElement("div");div.innerHTML=this.stripTags();return div.childNodes[0]?(div.childNodes.length>1?$A(div.childNodes).inject("",function(memo,node){return memo+node.nodeValue;}):div.childNodes[0].nodeValue):"";},toQueryParams:function(_16a7){var match=this.strip().match(/([^?#]*)(#.*)?$/);if(!match){return {};}return match[1].split(_16a7||"&").inject({},function(hash,pair){if((pair=pair.split("="))[0]){var name=decodeURIComponent(pair[0]);var value=pair[1]?decodeURIComponent(pair[1]):undefined;if(hash[name]!==undefined){if(hash[name].constructor!=Array){hash[name]=[hash[name]];}if(value){hash[name].push(value);}}else{hash[name]=value;}}return hash;});},toArray:function(){return this.split("");},succ:function(){return this.slice(0,this.length-1)+String.fromCharCode(this.charCodeAt(this.length-1)+1);},camelize:function(){var parts=this.split("-"),len=parts.length;if(len==1){return parts[0];}var _16ae=this.charAt(0)=="-"?parts[0].charAt(0).toUpperCase()+parts[0].substring(1):parts[0];for(var i=1;i<len;i++){_16ae+=parts[i].charAt(0).toUpperCase()+parts[i].substring(1);}return _16ae;},capitalize:function(){return this.charAt(0).toUpperCase()+this.substring(1).toLowerCase();},underscore:function(){return this.gsub(/::/,"/").gsub(/([A-Z]+)([A-Z][a-z])/,"#{1}_#{2}").gsub(/([a-z\d])([A-Z])/,"#{1}_#{2}").gsub(/-/,"_").toLowerCase();},dasherize:function(){return this.gsub(/_/,"-");},inspect:function(_16b0){var _16b1=this.replace(/\\/g,"\\\\");if(_16b0){return "\""+_16b1.replace(/"/g,"\\\"")+"\"";}else{return "'"+_16b1.replace(/'/g,"\\'")+"'";}}});String.prototype.gsub.prepareReplacement=function(_16b2){if(typeof _16b2=="function"){return _16b2;}var _16b3=new Template(_16b2);return function(match){return _16b3.evaluate(match);};};String.prototype.parseQuery=String.prototype.toQueryParams;var Template=Class.create();Template.Pattern=/(^|.|\r|\n)(#\{(.*?)\})/;Template.prototype={initialize:function(_16b5,_16b6){this.template=_16b5.toString();this.pattern=_16b6||Template.Pattern;},evaluate:function(_16b7){return this.template.gsub(this.pattern,function(match){var _16b9=match[1];if(_16b9=="\\"){return match[2];}return _16b9+String.interpret(_16b7[match[3]]);});}};var $break={};var $continue={};var Enumerable={each:function(_16ba){var index=0;try{this._each(function(value){try{_16ba(value,index++);}catch(e){if(e!=$continue){throw e;}}});}catch(e){if(e!=$break){throw e;}}return this;},eachSlice:function(_16bd,_16be){var index=-_16bd,slices=[],array=this.toArray();while((index+=_16bd)<array.length){slices.push(array.slice(index,index+_16bd));}return slices.map(_16be);},all:function(_16c0){var _16c1=true;this.each(function(value,index){_16c1=_16c1&&!!(_16c0||Prototype.K)(value,index);if(!_16c1){throw $break;}});return _16c1;},any:function(_16c4){var _16c5=false;this.each(function(value,index){if(_16c5=!!(_16c4||Prototype.K)(value,index)){throw $break;}});return _16c5;},collect:function(_16c8){var _16c9=[];this.each(function(value,index){_16c9.push((_16c8||Prototype.K)(value,index));});return _16c9;},detect:function(_16cc){var _16cd;this.each(function(value,index){if(_16cc(value,index)){_16cd=value;throw $break;}});return _16cd;},findAll:function(_16d0){var _16d1=[];this.each(function(value,index){if(_16d0(value,index)){_16d1.push(value);}});return _16d1;},grep:function(_16d4,_16d5){var _16d6=[];this.each(function(value,index){var _16d9=value.toString();if(_16d9.match(_16d4)){_16d6.push((_16d5||Prototype.K)(value,index));}});return _16d6;},include:function(_16da){var found=false;this.each(function(value){if(value==_16da){found=true;throw $break;}});return found;},inGroupsOf:function(_16dd,_16de){_16de=_16de===undefined?null:_16de;return this.eachSlice(_16dd,function(slice){while(slice.length<_16dd){slice.push(_16de);}return slice;});},inject:function(memo,_16e1){this.each(function(value,index){memo=_16e1(memo,value,index);});return memo;},invoke:function(_16e4){var args=$A(arguments).slice(1);return this.map(function(value){return value[_16e4].apply(value,args);});},max:function(_16e7){var _16e8;this.each(function(value,index){value=(_16e7||Prototype.K)(value,index);if(_16e8==undefined||value>=_16e8){_16e8=value;}});return _16e8;},min:function(_16eb){var _16ec;this.each(function(value,index){value=(_16eb||Prototype.K)(value,index);if(_16ec==undefined||value<_16ec){_16ec=value;}});return _16ec;},partition:function(_16ef){var trues=[],falses=[];this.each(function(value,index){((_16ef||Prototype.K)(value,index)?trues:falses).push(value);});return [trues,falses];},pluck:function(_16f3){var _16f4=[];this.each(function(value,index){_16f4.push(value[_16f3]);});return _16f4;},reject:function(_16f7){var _16f8=[];this.each(function(value,index){if(!_16f7(value,index)){_16f8.push(value);}});return _16f8;},sortBy:function(_16fb){return this.map(function(value,index){return {value:value,criteria:_16fb(value,index)};}).sort(function(left,right){var a=left.criteria,b=right.criteria;return a<b?-1:a>b?1:0;}).pluck("value");},toArray:function(){return this.map();},zip:function(){var _1701=Prototype.K,args=$A(arguments);if(typeof args.last()=="function"){_1701=args.pop();}var _1702=[this].concat(args).map($A);return this.map(function(value,index){return _1701(_1702.pluck(index));});},size:function(){return this.toArray().length;},inspect:function(){return "#<Enumerable:"+this.toArray().inspect()+">";}};Object.extend(Enumerable,{map:Enumerable.collect,find:Enumerable.detect,select:Enumerable.findAll,member:Enumerable.include,entries:Enumerable.toArray});var $A=Array.from=function(_1705){if(!_1705){return [];}if(_1705.toArray){return _1705.toArray();}else{var _1706=[];for(var i=0,length=_1705.length;i<length;i++){_1706.push(_1705[i]);}return _1706;}};Object.extend(Array.prototype,Enumerable);if(!Array.prototype._reverse){Array.prototype._reverse=Array.prototype.reverse;}Object.extend(Array.prototype,{_each:function(_1708){for(var i=0,length=this.length;i<length;i++){_1708(this[i]);}},clear:function(){this.length=0;return this;},first:function(){return this[0];},last:function(){return this[this.length-1];},compact:function(){return this.select(function(value){return value!==null;});},flatten:function(){return this.inject([],function(array,value){return array.concat(value&&value.constructor==Array?value.flatten():[value]);});},without:function(){var _170d=$A(arguments);return this.select(function(value){return !_170d.include(value);});},indexOf:function(_170f){for(var i=0,length=this.length;i<length;i++){if(this[i]==_170f){return i;}}return -1;},reverse:function(_1711){return (_1711!==false?this:this.toArray())._reverse();},reduce:function(){return this.length>1?this:this[0];},uniq:function(){return this.inject([],function(array,value){return array.include(value)?array:array.concat([value]);});},clone:function(){return [].concat(this);},size:function(){return this.length;},inspect:function(){return "["+this.map(Object.inspect).join(", ")+"]";}});Array.prototype.toArray=Array.prototype.clone;function $w(_1714){_1714=_1714.strip();return _1714?_1714.split(/\s+/):[];}if(window.opera){Array.prototype.concat=function(){var array=[];for(var i=0,length=this.length;i<length;i++){array.push(this[i]);}for(var i=0,length=arguments.length;i<length;i++){if(arguments[i].constructor==Array){for(var j=0,arrayLength=arguments[i].length;j<arrayLength;j++){array.push(arguments[i][j]);}}else{array.push(arguments[i]);}}return array;};}var Hash=function(obj){Object.extend(this,obj||{});};Object.extend(Hash,{toQueryString:function(obj){var parts=[];this.prototype._each.call(obj,function(pair){if(!pair.key){return;}if(pair.value&&pair.value.constructor==Array){var _171c=pair.value.compact();if(_171c.length<2){pair.value=_171c.reduce();}else{key=encodeURIComponent(pair.key);_171c.each(function(value){value=value!=undefined?encodeURIComponent(value):"";parts.push(key+"="+encodeURIComponent(value));});return;}}if(pair.value==undefined){pair[1]="";}parts.push(pair.map(encodeURIComponent).join("="));});return parts.join("&");}});Object.extend(Hash.prototype,Enumerable);Object.extend(Hash.prototype,{_each:function(_171e){for(var key in this){var value=this[key];if(value&&value==Hash.prototype[key]){continue;}var pair=[key,value];pair.key=key;pair.value=value;_171e(pair);}},keys:function(){return this.pluck("key");},values:function(){return this.pluck("value");},merge:function(hash){return $H(hash).inject(this,function(_1723,pair){_1723[pair.key]=pair.value;return _1723;});},remove:function(){var _1725;for(var i=0,length=arguments.length;i<length;i++){var value=this[arguments[i]];if(value!==undefined){if(_1725===undefined){_1725=value;}else{if(_1725.constructor!=Array){_1725=[_1725];}_1725.push(value);}}delete this[arguments[i]];}return _1725;},toQueryString:function(){return Hash.toQueryString(this);},inspect:function(){return "#<Hash:{"+this.map(function(pair){return pair.map(Object.inspect).join(": ");}).join(", ")+"}>";}});function $H(_1729){if(_1729&&_1729.constructor==Hash){return _1729;}return new Hash(_1729);}ObjectRange=Class.create();Object.extend(ObjectRange.prototype,Enumerable);Object.extend(ObjectRange.prototype,{initialize:function(start,end,_172c){this.start=start;this.end=end;this.exclusive=_172c;},_each:function(_172d){var value=this.start;while(this.include(value)){_172d(value);value=value.succ();}},include:function(value){if(value<this.start){return false;}if(this.exclusive){return value<this.end;}return value<=this.end;}});var $R=function(start,end,_1732){return new ObjectRange(start,end,_1732);};var Ajax={getTransport:function(){return Try.these(function(){return new XMLHttpRequest();},function(){return new ActiveXObject("Msxml2.XMLHTTP");},function(){return new ActiveXObject("Microsoft.XMLHTTP");})||false;},activeRequestCount:0};Ajax.Responders={responders:[],_each:function(_1733){this.responders._each(_1733);},register:function(_1734){if(!this.include(_1734)){this.responders.push(_1734);}},unregister:function(_1735){this.responders=this.responders.without(_1735);},dispatch:function(_1736,_1737,_1738,json){this.each(function(_173a){if(typeof _173a[_1736]=="function"){try{_173a[_1736].apply(_173a,[_1737,_1738,json]);}catch(e){}}});}};Object.extend(Ajax.Responders,Enumerable);Ajax.Responders.register({onCreate:function(){Ajax.activeRequestCount++;},onComplete:function(){Ajax.activeRequestCount--;}});Ajax.Base=function(){};Ajax.Base.prototype={setOptions:function(_173b){this.options={method:"post",asynchronous:true,contentType:"application/x-www-form-urlencoded",encoding:"UTF-8",parameters:""};Object.extend(this.options,_173b||{});this.options.method=this.options.method.toLowerCase();if(typeof this.options.parameters=="string"){this.options.parameters=this.options.parameters.toQueryParams();}}};Ajax.Request=Class.create();Ajax.Request.Events=["Uninitialized","Loading","Loaded","Interactive","Complete"];Ajax.Request.prototype=Object.extend(new Ajax.Base(),{_complete:false,initialize:function(url,_173d){this.transport=Ajax.getTransport();this.setOptions(_173d);this.request(url);},request:function(url){this.url=url;this.method=this.options.method;var _173f=this.options.parameters;if(!["get","post"].include(this.method)){_173f["_method"]=this.method;this.method="post";}_173f=Hash.toQueryString(_173f);if(_173f&&/Konqueror|Safari|KHTML/.test(navigator.userAgent)){_173f+="&_=";}if(this.method=="get"&&_173f){this.url+=(this.url.indexOf("?")>-1?"&":"?")+_173f;}try{Ajax.Responders.dispatch("onCreate",this,this.transport);this.transport.open(this.method.toUpperCase(),this.url,this.options.asynchronous);if(this.options.asynchronous){setTimeout(function(){this.respondToReadyState(1);}.bind(this),10);}this.transport.onreadystatechange=this.onStateChange.bind(this);this.setRequestHeaders();var body=this.method=="post"?(this.options.postBody||_173f):null;this.transport.send(body);if(!this.options.asynchronous&&this.transport.overrideMimeType){this.onStateChange();}}catch(e){this.dispatchException(e);}},onStateChange:function(){var _1741=this.transport.readyState;if(_1741>1&&!((_1741==4)&&this._complete)){this.respondToReadyState(this.transport.readyState);}},setRequestHeaders:function(){var _1742={"X-Requested-With":"XMLHttpRequest","X-Prototype-Version":Prototype.Version,"Accept":"text/javascript, text/html, application/xml, text/xml, */*"};if(this.method=="post"){_1742["Content-type"]=this.options.contentType+(this.options.encoding?"; charset="+this.options.encoding:"");if(this.transport.overrideMimeType&&(navigator.userAgent.match(/Gecko\/(\d{4})/)||[0,2005])[1]<2005){_1742["Connection"]="close";}}if(typeof this.options.requestHeaders=="object"){var _1743=this.options.requestHeaders;if(typeof _1743.push=="function"){for(var i=0,length=_1743.length;i<length;i+=2){_1742[_1743[i]]=_1743[i+1];}}else{$H(_1743).each(function(pair){_1742[pair.key]=pair.value;});}}for(var name in _1742){this.transport.setRequestHeader(name,_1742[name]);}},success:function(){return !this.transport.status||(this.transport.status>=200&&this.transport.status<300);},respondToReadyState:function(_1747){var state=Ajax.Request.Events[_1747];var _1749=this.transport,json=this.evalJSON();if(state=="Complete"){try{this._complete=true;(this.options["on"+this.transport.status]||this.options["on"+(this.success()?"Success":"Failure")]||Prototype.emptyFunction)(_1749,json);}catch(e){this.dispatchException(e);}if((this.getHeader("Content-type")||"text/javascript").strip().match(/^(text|application)\/(x-)?(java|ecma)script(;.*)?$/i)){this.evalResponse();}}try{(this.options["on"+state]||Prototype.emptyFunction)(_1749,json);Ajax.Responders.dispatch("on"+state,this,_1749,json);}catch(e){this.dispatchException(e);}if(state=="Complete"){this.transport.onreadystatechange=Prototype.emptyFunction;}},getHeader:function(name){try{return this.transport.getResponseHeader(name);}catch(e){return null;}},evalJSON:function(){try{var json=this.getHeader("X-JSON");return json?eval("("+json+")"):null;}catch(e){return null;}},evalResponse:function(){try{return eval(this.transport.responseText);}catch(e){this.dispatchException(e);}},dispatchException:function(_174c){(this.options.onException||Prototype.emptyFunction)(this,_174c);Ajax.Responders.dispatch("onException",this,_174c);}});Ajax.Updater=Class.create();Object.extend(Object.extend(Ajax.Updater.prototype,Ajax.Request.prototype),{initialize:function(_174d,url,_174f){this.container={success:(_174d.success||_174d),failure:(_174d.failure||(_174d.success?null:_174d))};this.transport=Ajax.getTransport();this.setOptions(_174f);var _1750=this.options.onComplete||Prototype.emptyFunction;this.options.onComplete=(function(_1751,param){this.updateContent();_1750(_1751,param);}).bind(this);this.request(url);},updateContent:function(){var _1753=this.container[this.success()?"success":"failure"];var _1754=this.transport.responseText;if(!this.options.evalScripts){_1754=_1754.stripScripts();}if(_1753=$(_1753)){if(this.options.insertion){new this.options.insertion(_1753,_1754);}else{_1753.update(_1754);}}if(this.success()){if(this.onComplete){setTimeout(this.onComplete.bind(this),10);}}}});Ajax.PeriodicalUpdater=Class.create();Ajax.PeriodicalUpdater.prototype=Object.extend(new Ajax.Base(),{initialize:function(_1755,url,_1757){this.setOptions(_1757);this.onComplete=this.options.onComplete;this.frequency=(this.options.frequency||2);this.decay=(this.options.decay||1);this.updater={};this.container=_1755;this.url=url;this.start();},start:function(){this.options.onComplete=this.updateComplete.bind(this);this.onTimerEvent();},stop:function(){this.updater.options.onComplete=undefined;clearTimeout(this.timer);(this.onComplete||Prototype.emptyFunction).apply(this,arguments);},updateComplete:function(_1758){if(this.options.decay){this.decay=(_1758.responseText==this.lastText?this.decay*this.options.decay:1);this.lastText=_1758.responseText;}this.timer=setTimeout(this.onTimerEvent.bind(this),this.decay*this.frequency*1000);},onTimerEvent:function(){this.updater=new Ajax.Updater(this.container,this.url,this.options);}});function $(_1759){if(arguments.length>1){for(var i=0,elements=[],length=arguments.length;i<length;i++){elements.push($(arguments[i]));}return elements;}if(typeof _1759=="string"){_1759=document.getElementById(_1759);}return Element.extend(_1759);}if(Prototype.BrowserFeatures.XPath){document._getElementsByXPath=function(_175b,_175c){var _175d=[];var query=document.evaluate(_175b,$(_175c)||document,null,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null);for(var i=0,length=query.snapshotLength;i<length;i++){_175d.push(query.snapshotItem(i));}return _175d;};}document.getElementsByClassName=function(_1760,_1761){if(Prototype.BrowserFeatures.XPath){var q=".//*[contains(concat(' ', @class, ' '), ' "+_1760+" ')]";return document._getElementsByXPath(q,_1761);}else{var _1763=($(_1761)||document.body).getElementsByTagName("*");var _1764=[],child;for(var i=0,length=_1763.length;i<length;i++){child=_1763[i];if(Element.hasClassName(child,_1760)){_1764.push(Element.extend(child));}}return _1764;}};if(!window.Element){var Element={};}Element.extend=function(_1766){if(!_1766||_nativeExtensions||_1766.nodeType==3){return _1766;}if(!_1766._extended&&_1766.tagName&&_1766!=window){var _1767=Object.clone(Element.Methods),cache=Element.extend.cache;if(_1766.tagName=="FORM"){Object.extend(_1767,Form.Methods);}if(["INPUT","TEXTAREA","SELECT"].include(_1766.tagName)){Object.extend(_1767,Form.Element.Methods);}Object.extend(_1767,Element.Methods.Simulated);for(var _1768 in _1767){var value=_1767[_1768];if(typeof value=="function"&&!(_1768 in _1766)){_1766[_1768]=cache.findOrStore(value);}}}_1766._extended=true;return _1766;};Element.extend.cache={findOrStore:function(value){return this[value]=this[value]||function(){return value.apply(null,[this].concat($A(arguments)));};}};Element.Methods={visible:function(_176b){return $(_176b).style.display!="none";},toggle:function(_176c){_176c=$(_176c);Element[Element.visible(_176c)?"hide":"show"](_176c);return _176c;},hide:function(_176d){$(_176d).style.display="none";return _176d;},show:function(_176e){$(_176e).style.display="";return _176e;},remove:function(_176f){_176f=$(_176f);_176f.parentNode.removeChild(_176f);return _176f;},update:function(_1770,html){html=typeof html=="undefined"?"":html.toString();$(_1770).innerHTML=html.stripScripts();setTimeout(function(){html.evalScripts();},10);return _1770;},replace:function(_1772,html){_1772=$(_1772);html=typeof html=="undefined"?"":html.toString();if(_1772.outerHTML){_1772.outerHTML=html.stripScripts();}else{var range=_1772.ownerDocument.createRange();range.selectNodeContents(_1772);_1772.parentNode.replaceChild(range.createContextualFragment(html.stripScripts()),_1772);}setTimeout(function(){html.evalScripts();},10);return _1772;},inspect:function(_1775){_1775=$(_1775);var _1776="<"+_1775.tagName.toLowerCase();$H({"id":"id","className":"class"}).each(function(pair){var _1778=pair.first(),attribute=pair.last();var value=(_1775[_1778]||"").toString();if(value){_1776+=" "+attribute+"="+value.inspect(true);}});return _1776+">";},recursivelyCollect:function(_177a,_177b){_177a=$(_177a);var _177c=[];while(_177a=_177a[_177b]){if(_177a.nodeType==1){_177c.push(Element.extend(_177a));}}return _177c;},ancestors:function(_177d){return $(_177d).recursivelyCollect("parentNode");},descendants:function(_177e){return $A($(_177e).getElementsByTagName("*"));},immediateDescendants:function(_177f){if(!(_177f=$(_177f).firstChild)){return [];}while(_177f&&_177f.nodeType!=1){_177f=_177f.nextSibling;}if(_177f){return [_177f].concat($(_177f).nextSiblings());}return [];},previousSiblings:function(_1780){return $(_1780).recursivelyCollect("previousSibling");},nextSiblings:function(_1781){return $(_1781).recursivelyCollect("nextSibling");},siblings:function(_1782){_1782=$(_1782);return _1782.previousSiblings().reverse().concat(_1782.nextSiblings());},match:function(_1783,_1784){if(typeof _1784=="string"){_1784=new Selector(_1784);}return _1784.match($(_1783));},up:function(_1785,_1786,index){return Selector.findElement($(_1785).ancestors(),_1786,index);},down:function(_1788,_1789,index){return Selector.findElement($(_1788).descendants(),_1789,index);},previous:function(_178b,_178c,index){return Selector.findElement($(_178b).previousSiblings(),_178c,index);},next:function(_178e,_178f,index){return Selector.findElement($(_178e).nextSiblings(),_178f,index);},getElementsBySelector:function(){var args=$A(arguments),element=$(args.shift());return Selector.findChildElements(element,args);},getElementsByClassName:function(_1792,_1793){return document.getElementsByClassName(_1793,_1792);},readAttribute:function(_1794,name){_1794=$(_1794);if(document.all&&!window.opera){var t=Element._attributeTranslations;if(t.values[name]){return t.values[name](_1794,name);}if(t.names[name]){name=t.names[name];}var _1797=_1794.attributes[name];if(_1797){return _1797.nodeValue;}}return _1794.getAttribute(name);},getHeight:function(_1798){return $(_1798).getDimensions().height;},getWidth:function(_1799){return $(_1799).getDimensions().width;},classNames:function(_179a){return new Element.ClassNames(_179a);},hasClassName:function(_179b,_179c){if(!(_179b=$(_179b))){return;}var _179d=_179b.className;if(_179d.length===0){return false;}if(_179d==_179c||_179d.match(new RegExp("(^|\\s)"+_179c+"(\\s|$)"))){return true;}return false;},addClassName:function(_179e,_179f){if(!(_179e=$(_179e))){return;}Element.classNames(_179e).add(_179f);return _179e;},removeClassName:function(_17a0,_17a1){if(!(_17a0=$(_17a0))){return;}Element.classNames(_17a0).remove(_17a1);return _17a0;},toggleClassName:function(_17a2,_17a3){if(!(_17a2=$(_17a2))){return;}Element.classNames(_17a2)[_17a2.hasClassName(_17a3)?"remove":"add"](_17a3);return _17a2;},observe:function(){Event.observe.apply(Event,arguments);return $A(arguments).first();},stopObserving:function(){Event.stopObserving.apply(Event,arguments);return $A(arguments).first();},cleanWhitespace:function(_17a4){_17a4=$(_17a4);var node=_17a4.firstChild;while(node){var _17a6=node.nextSibling;if(node.nodeType==3&&!/\S/.test(node.nodeValue)){_17a4.removeChild(node);}node=_17a6;}return _17a4;},empty:function(_17a7){return $(_17a7).innerHTML.match(/^\s*$/);},descendantOf:function(_17a8,_17a9){_17a8=$(_17a8),_17a9=$(_17a9);while(_17a8=_17a8.parentNode){if(_17a8==_17a9){return true;}}return false;},scrollTo:function(_17aa){_17aa=$(_17aa);var pos=Position.cumulativeOffset(_17aa);window.scrollTo(pos[0],pos[1]);return _17aa;},getStyle:function(_17ac,style){_17ac=$(_17ac);if(["float","cssFloat"].include(style)){style=(typeof _17ac.style.styleFloat!="undefined"?"styleFloat":"cssFloat");}style=style.camelize();var value=_17ac.style[style];if(!value){if(document.defaultView&&document.defaultView.getComputedStyle){var css=document.defaultView.getComputedStyle(_17ac,null);value=css?css[style]:null;}else{if(_17ac.currentStyle){value=_17ac.currentStyle[style];}}}if((value=="auto")&&["width","height"].include(style)&&(_17ac.getStyle("display")!="none")){value=_17ac["offset"+style.capitalize()]+"px";}if(window.opera&&["left","top","right","bottom"].include(style)){if(Element.getStyle(_17ac,"position")=="static"){value="auto";}}if(style=="opacity"){if(value){return parseFloat(value);}if(value=(_17ac.getStyle("filter")||"").match(/alpha\(opacity=(.*)\)/)){if(value[1]){return parseFloat(value[1])/100;}}return 1;}return value=="auto"?null:value;},setStyle:function(_17b0,style){_17b0=$(_17b0);for(var name in style){var value=style[name];if(name=="opacity"){if(value==1){value=(/Gecko/.test(navigator.userAgent)&&!/Konqueror|Safari|KHTML/.test(navigator.userAgent))?0.999999:1;if(/MSIE/.test(navigator.userAgent)&&!window.opera){_17b0.style.filter=_17b0.getStyle("filter").replace(/alpha\([^\)]*\)/gi,"");}}else{if(value===""){if(/MSIE/.test(navigator.userAgent)&&!window.opera){_17b0.style.filter=_17b0.getStyle("filter").replace(/alpha\([^\)]*\)/gi,"");}}else{if(value<0.00001){value=0;}if(/MSIE/.test(navigator.userAgent)&&!window.opera){_17b0.style.filter=_17b0.getStyle("filter").replace(/alpha\([^\)]*\)/gi,"")+"alpha(opacity="+value*100+")";}}}}else{if(["float","cssFloat"].include(name)){name=(typeof _17b0.style.styleFloat!="undefined")?"styleFloat":"cssFloat";}}_17b0.style[name.camelize()]=value;}return _17b0;},getDimensions:function(_17b4){_17b4=$(_17b4);var _17b5=$(_17b4).getStyle("display");if(_17b5!="none"&&_17b5!==null){return {width:_17b4.offsetWidth,height:_17b4.offsetHeight};}var els=_17b4.style;var _17b7=els.visibility;var _17b8=els.position;var _17b9=els.display;els.visibility="hidden";els.position="absolute";els.display="block";var _17ba=_17b4.clientWidth;var _17bb=_17b4.clientHeight;els.display=_17b9;els.position=_17b8;els.visibility=_17b7;return {width:_17ba,height:_17bb};},makePositioned:function(_17bc){_17bc=$(_17bc);var pos=Element.getStyle(_17bc,"position");if(pos=="static"||!pos){_17bc._madePositioned=true;_17bc.style.position="relative";if(window.opera){_17bc.style.top=0;_17bc.style.left=0;}}return _17bc;},undoPositioned:function(_17be){_17be=$(_17be);if(_17be._madePositioned){_17be._madePositioned=undefined;_17be.style.position=_17be.style.top=_17be.style.left=_17be.style.bottom=_17be.style.right="";}return _17be;},makeClipping:function(_17bf){_17bf=$(_17bf);if(_17bf._overflow){return _17bf;}_17bf._overflow=_17bf.style.overflow||"auto";if((Element.getStyle(_17bf,"overflow")||"visible")!="hidden"){_17bf.style.overflow="hidden";}return _17bf;},undoClipping:function(_17c0){_17c0=$(_17c0);if(!_17c0._overflow){return _17c0;}_17c0.style.overflow=_17c0._overflow=="auto"?"":_17c0._overflow;_17c0._overflow=null;return _17c0;}};Object.extend(Element.Methods,{childOf:Element.Methods.descendantOf});Element._attributeTranslations={};Element._attributeTranslations.names={colspan:"colSpan",rowspan:"rowSpan",valign:"vAlign",datetime:"dateTime",accesskey:"accessKey",tabindex:"tabIndex",enctype:"encType",maxlength:"maxLength",readonly:"readOnly",longdesc:"longDesc"};Element._attributeTranslations.values={_getAttr:function(_17c1,_17c2){return _17c1.getAttribute(_17c2,2);},_flag:function(_17c3,_17c4){return $(_17c3).hasAttribute(_17c4)?_17c4:null;},style:function(_17c5){return _17c5.style.cssText.toLowerCase();},title:function(_17c6){var node=_17c6.getAttributeNode("title");return node.specified?node.nodeValue:null;}};Object.extend(Element._attributeTranslations.values,{href:Element._attributeTranslations.values._getAttr,src:Element._attributeTranslations.values._getAttr,disabled:Element._attributeTranslations.values._flag,checked:Element._attributeTranslations.values._flag,readonly:Element._attributeTranslations.values._flag,multiple:Element._attributeTranslations.values._flag});Element.Methods.Simulated={hasAttribute:function(_17c8,_17c9){var t=Element._attributeTranslations;_17c9=t.names[_17c9]||_17c9;return $(_17c8).getAttributeNode(_17c9).specified;}};if(document.all&&!window.opera){Element.Methods.update=function(_17cb,html){_17cb=$(_17cb);html=typeof html=="undefined"?"":html.toString();var _17cd=_17cb.tagName.toUpperCase();if(["THEAD","TBODY","TR","TD"].include(_17cd)){var div=document.createElement("div");switch(_17cd){case "THEAD":case "TBODY":div.innerHTML="<table><tbody>"+html.stripScripts()+"</tbody></table>";depth=2;break;case "TR":div.innerHTML="<table><tbody><tr>"+html.stripScripts()+"</tr></tbody></table>";depth=3;break;case "TD":div.innerHTML="<table><tbody><tr><td>"+html.stripScripts()+"</td></tr></tbody></table>";depth=4;}$A(_17cb.childNodes).each(function(node){_17cb.removeChild(node);});depth.times(function(){div=div.firstChild;});$A(div.childNodes).each(function(node){_17cb.appendChild(node);});}else{_17cb.innerHTML=html.stripScripts();}setTimeout(function(){html.evalScripts();},10);return _17cb;};}Object.extend(Element,Element.Methods);var _nativeExtensions=false;if(/Konqueror|Safari|KHTML/.test(navigator.userAgent)){["","Form","Input","TextArea","Select"].each(function(tag){var _17d2="HTML"+tag+"Element";if(window[_17d2]){return;}var klass=window[_17d2]={};klass.prototype=document.createElement(tag?tag.toLowerCase():"div").__proto__;});}Element.addMethods=function(_17d4){Object.extend(Element.Methods,_17d4||{});function copy(_17d5,_17d6,_17d7){_17d7=_17d7||false;var cache=Element.extend.cache;for(var _17d9 in _17d5){var value=_17d5[_17d9];if(!_17d7||!(_17d9 in _17d6)){_17d6[_17d9]=cache.findOrStore(value);}}}if(typeof HTMLElement!="undefined"){copy(Element.Methods,HTMLElement.prototype);copy(Element.Methods.Simulated,HTMLElement.prototype,true);copy(Form.Methods,HTMLFormElement.prototype);[HTMLInputElement,HTMLTextAreaElement,HTMLSelectElement].each(function(klass){copy(Form.Element.Methods,klass.prototype);});_nativeExtensions=true;}};var Toggle={};Toggle.display=Element.toggle;Abstract.Insertion=function(_17dc){this.adjacency=_17dc;};Abstract.Insertion.prototype={initialize:function(_17dd,_17de){this.element=$(_17dd);this.content=_17de.stripScripts();if(this.adjacency&&this.element.insertAdjacentHTML){try{this.element.insertAdjacentHTML(this.adjacency,this.content);}catch(e){var _17df=this.element.tagName.toUpperCase();if(["TBODY","TR"].include(_17df)){this.insertContent(this.contentFromAnonymousTable());}else{throw e;}}}else{this.range=this.element.ownerDocument.createRange();if(this.initializeRange){this.initializeRange();}this.insertContent([this.range.createContextualFragment(this.content)]);}setTimeout(function(){_17de.evalScripts();},10);},contentFromAnonymousTable:function(){var div=document.createElement("div");div.innerHTML="<table><tbody>"+this.content+"</tbody></table>";return $A(div.childNodes[0].childNodes[0].childNodes);}};var Insertion={};Insertion.Before=Class.create();Insertion.Before.prototype=Object.extend(new Abstract.Insertion("beforeBegin"),{initializeRange:function(){this.range.setStartBefore(this.element);},insertContent:function(_17e1){_17e1.each((function(_17e2){this.element.parentNode.insertBefore(_17e2,this.element);}).bind(this));}});Insertion.Top=Class.create();Insertion.Top.prototype=Object.extend(new Abstract.Insertion("afterBegin"),{initializeRange:function(){this.range.selectNodeContents(this.element);this.range.collapse(true);},insertContent:function(_17e3){_17e3.reverse(false).each((function(_17e4){this.element.insertBefore(_17e4,this.element.firstChild);}).bind(this));}});Insertion.Bottom=Class.create();Insertion.Bottom.prototype=Object.extend(new Abstract.Insertion("beforeEnd"),{initializeRange:function(){this.range.selectNodeContents(this.element);this.range.collapse(this.element);},insertContent:function(_17e5){_17e5.each((function(_17e6){this.element.appendChild(_17e6);}).bind(this));}});Insertion.After=Class.create();Insertion.After.prototype=Object.extend(new Abstract.Insertion("afterEnd"),{initializeRange:function(){this.range.setStartAfter(this.element);},insertContent:function(_17e7){_17e7.each((function(_17e8){this.element.parentNode.insertBefore(_17e8,this.element.nextSibling);}).bind(this));}});Element.ClassNames=Class.create();Element.ClassNames.prototype={initialize:function(_17e9){this.element=$(_17e9);},_each:function(_17ea){this.element.className.split(/\s+/).select(function(name){return name.length>0;})._each(_17ea);},set:function(_17ec){this.element.className=_17ec;},add:function(_17ed){if(this.include(_17ed)){return;}this.set($A(this).concat(_17ed).join(" "));},remove:function(_17ee){if(!this.include(_17ee)){return;}this.set($A(this).without(_17ee).join(" "));},toString:function(){return $A(this).join(" ");}};Object.extend(Element.ClassNames.prototype,Enumerable);var Selector=Class.create();Selector.prototype={initialize:function(_17ef){this.params={classNames:[]};this.expression=_17ef.toString().strip();this.parseExpression();this.compileMatcher();},parseExpression:function(){function abort(_17f0){throw "Parse error in selector: "+_17f0;}if(this.expression==""){abort("empty expression");}var _17f1=this.params,expr=this.expression,match,modifier,clause,rest;while(match=expr.match(/^(.*)\[([a-z0-9_:-]+?)(?:([~\|!]?=)(?:"([^"]*)"|([^\]\s]*)))?\]$/i)){_17f1.attributes=_17f1.attributes||[];_17f1.attributes.push({name:match[2],operator:match[3],value:match[4]||match[5]||""});expr=match[1];}if(expr=="*"){return this.params.wildcard=true;}while(match=expr.match(/^([^a-z0-9_-])?([a-z0-9_-]+)(.*)/i)){modifier=match[1],clause=match[2],rest=match[3];switch(modifier){case "#":_17f1.id=clause;break;case ".":_17f1.classNames.push(clause);break;case "":case undefined:_17f1.tagName=clause.toUpperCase();break;default:abort(expr.inspect());}expr=rest;}if(expr.length>0){abort(expr.inspect());}},buildMatchExpression:function(){var _17f2=this.params,conditions=[],clause;if(_17f2.wildcard){conditions.push("true");}if(clause=_17f2.id){conditions.push("element.readAttribute(\"id\") == "+clause.inspect());}if(clause=_17f2.tagName){conditions.push("element.tagName.toUpperCase() == "+clause.inspect());}if((clause=_17f2.classNames).length>0){for(var i=0,length=clause.length;i<length;i++){conditions.push("element.hasClassName("+clause[i].inspect()+")");}}if(clause=_17f2.attributes){clause.each(function(_17f4){var value="element.readAttribute("+_17f4.name.inspect()+")";var _17f6=function(_17f7){return value+" && "+value+".split("+_17f7.inspect()+")";};switch(_17f4.operator){case "=":conditions.push(value+" == "+_17f4.value.inspect());break;case "~=":conditions.push(_17f6(" ")+".include("+_17f4.value.inspect()+")");break;case "|=":conditions.push(_17f6("-")+".first().toUpperCase() == "+_17f4.value.toUpperCase().inspect());break;case "!=":conditions.push(value+" != "+_17f4.value.inspect());break;case "":case undefined:conditions.push("element.hasAttribute("+_17f4.name.inspect()+")");break;default:throw "Unknown operator "+_17f4.operator+" in selector";}});}return conditions.join(" && ");},compileMatcher:function(){this.match=new Function("element","if (!element.tagName) return false;       element = $(element);       return "+this.buildMatchExpression());},findElements:function(scope){var _17f9;if(_17f9=$(this.params.id)){if(this.match(_17f9)){if(!scope||Element.childOf(_17f9,scope)){return [_17f9];}}}scope=(scope||document).getElementsByTagName(this.params.tagName||"*");var _17fa=[];for(var i=0,length=scope.length;i<length;i++){if(this.match(_17f9=scope[i])){_17fa.push(Element.extend(_17f9));}}return _17fa;},toString:function(){return this.expression;}};Object.extend(Selector,{matchElements:function(_17fc,_17fd){var _17fe=new Selector(_17fd);return _17fc.select(_17fe.match.bind(_17fe)).map(Element.extend);},findElement:function(_17ff,_1800,index){if(typeof _1800=="number"){index=_1800,_1800=false;}return Selector.matchElements(_17ff,_1800||"*")[index||0];},findChildElements:function(_1802,_1803){return _1803.map(function(_1804){return _1804.match(/[^\s"]+(?:"[^"]*"[^\s"]+)*/g).inject([null],function(_1805,expr){var _1807=new Selector(expr);return _1805.inject([],function(_1808,_1809){return _1808.concat(_1807.findElements(_1809||_1802));});});}).flatten();}});function $$(){return Selector.findChildElements(document,$A(arguments));}var Form={reset:function(form){$(form).reset();return form;},serializeElements:function(_180b,_180c){var data=_180b.inject({},function(_180e,_180f){if(!_180f.disabled&&_180f.name){var key=_180f.name,value=$(_180f).getValue();if(value!=undefined){if(_180e[key]){if(_180e[key].constructor!=Array){_180e[key]=[_180e[key]];}_180e[key].push(value);}else{_180e[key]=value;}}}return _180e;});return _180c?data:Hash.toQueryString(data);}};Form.Methods={serialize:function(form,_1812){return Form.serializeElements(Form.getElements(form),_1812);},getElements:function(form){return $A($(form).getElementsByTagName("*")).inject([],function(_1814,child){if(Form.Element.Serializers[child.tagName.toLowerCase()]){_1814.push(Element.extend(child));}return _1814;});},getInputs:function(form,_1817,name){form=$(form);var _1819=form.getElementsByTagName("input");if(!_1817&&!name){return $A(_1819).map(Element.extend);}for(var i=0,matchingInputs=[],length=_1819.length;i<length;i++){var input=_1819[i];if((_1817&&input.type!=_1817)||(name&&input.name!=name)){continue;}matchingInputs.push(Element.extend(input));}return matchingInputs;},disable:function(form){form=$(form);form.getElements().each(function(_181d){_181d.blur();_181d.disabled="true";});return form;},enable:function(form){form=$(form);form.getElements().each(function(_181f){_181f.disabled="";});return form;},findFirstElement:function(form){return $(form).getElements().find(function(_1821){return _1821.type!="hidden"&&!_1821.disabled&&["input","select","textarea"].include(_1821.tagName.toLowerCase());});},focusFirstElement:function(form){form=$(form);form.findFirstElement().activate();return form;}};Object.extend(Form,Form.Methods);Form.Element={focus:function(_1823){$(_1823).focus();return _1823;},select:function(_1824){$(_1824).select();return _1824;}};Form.Element.Methods={serialize:function(_1825){_1825=$(_1825);if(!_1825.disabled&&_1825.name){var value=_1825.getValue();if(value!=undefined){var pair={};pair[_1825.name]=value;return Hash.toQueryString(pair);}}return "";},getValue:function(_1828){_1828=$(_1828);var _1829=_1828.tagName.toLowerCase();return Form.Element.Serializers[_1829](_1828);},clear:function(_182a){$(_182a).value="";return _182a;},present:function(_182b){return $(_182b).value!="";},activate:function(_182c){_182c=$(_182c);_182c.focus();if(_182c.select&&(_182c.tagName.toLowerCase()!="input"||!["button","reset","submit"].include(_182c.type))){_182c.select();}return _182c;},disable:function(_182d){_182d=$(_182d);_182d.disabled=true;return _182d;},enable:function(_182e){_182e=$(_182e);_182e.blur();_182e.disabled=false;return _182e;}};Object.extend(Form.Element,Form.Element.Methods);var Field=Form.Element;var $F=Form.Element.getValue;Form.Element.Serializers={input:function(_182f){switch(_182f.type.toLowerCase()){case "checkbox":case "radio":return Form.Element.Serializers.inputSelector(_182f);default:return Form.Element.Serializers.textarea(_182f);}},inputSelector:function(_1830){return _1830.checked?_1830.value:null;},textarea:function(_1831){return _1831.value;},select:function(_1832){return this[_1832.type=="select-one"?"selectOne":"selectMany"](_1832);},selectOne:function(_1833){var index=_1833.selectedIndex;return index>=0?this.optionValue(_1833.options[index]):null;},selectMany:function(_1835){var _1836,length=_1835.length;if(!length){return null;}for(var i=0,_1836=[];i<length;i++){var opt=_1835.options[i];if(opt.selected){_1836.push(this.optionValue(opt));}}return _1836;},optionValue:function(opt){return Element.extend(opt).hasAttribute("value")?opt.value:opt.text;}};Abstract.TimedObserver=function(){};Abstract.TimedObserver.prototype={initialize:function(_183a,_183b,_183c){this.frequency=_183b;this.element=$(_183a);this.callback=_183c;this.lastValue=this.getValue();this.registerCallback();},registerCallback:function(){setInterval(this.onTimerEvent.bind(this),this.frequency*1000);},onTimerEvent:function(){var value=this.getValue();var _183e=("string"==typeof this.lastValue&&"string"==typeof value?this.lastValue!=value:String(this.lastValue)!=String(value));if(_183e){this.callback(this.element,value);this.lastValue=value;}}};Form.Element.Observer=Class.create();Form.Element.Observer.prototype=Object.extend(new Abstract.TimedObserver(),{getValue:function(){return Form.Element.getValue(this.element);}});Form.Observer=Class.create();Form.Observer.prototype=Object.extend(new Abstract.TimedObserver(),{getValue:function(){return Form.serialize(this.element);}});Abstract.EventObserver=function(){};Abstract.EventObserver.prototype={initialize:function(_183f,_1840){this.element=$(_183f);this.callback=_1840;this.lastValue=this.getValue();if(this.element.tagName.toLowerCase()=="form"){this.registerFormCallbacks();}else{this.registerCallback(this.element);}},onElementEvent:function(){var value=this.getValue();if(this.lastValue!=value){this.callback(this.element,value);this.lastValue=value;}},registerFormCallbacks:function(){Form.getElements(this.element).each(this.registerCallback.bind(this));},registerCallback:function(_1842){if(_1842.type){switch(_1842.type.toLowerCase()){case "checkbox":case "radio":Event.observe(_1842,"click",this.onElementEvent.bind(this));break;default:Event.observe(_1842,"change",this.onElementEvent.bind(this));break;}}}};Form.Element.EventObserver=Class.create();Form.Element.EventObserver.prototype=Object.extend(new Abstract.EventObserver(),{getValue:function(){return Form.Element.getValue(this.element);}});Form.EventObserver=Class.create();Form.EventObserver.prototype=Object.extend(new Abstract.EventObserver(),{getValue:function(){return Form.serialize(this.element);}});if(!window.Event){var Event={};}Object.extend(Event,{KEY_BACKSPACE:8,KEY_TAB:9,KEY_RETURN:13,KEY_ESC:27,KEY_LEFT:37,KEY_UP:38,KEY_RIGHT:39,KEY_DOWN:40,KEY_DELETE:46,KEY_HOME:36,KEY_END:35,KEY_PAGEUP:33,KEY_PAGEDOWN:34,element:function(event){return event.target||event.srcElement;},isLeftClick:function(event){return (((event.which)&&(event.which==1))||((event.button)&&(event.button==1)));},pointerX:function(event){return event.pageX||(event.clientX+(document.documentElement.scrollLeft||document.body.scrollLeft));},pointerY:function(event){return event.pageY||(event.clientY+(document.documentElement.scrollTop||document.body.scrollTop));},stop:function(event){if(event.preventDefault){event.preventDefault();event.stopPropagation();}else{event.returnValue=false;event.cancelBubble=true;}},findElement:function(event,_1849){var _184a=Event.element(event);while(_184a.parentNode&&(!_184a.tagName||(_184a.tagName.toUpperCase()!=_1849.toUpperCase()))){_184a=_184a.parentNode;}return _184a;},observers:false,_observeAndCache:function(_184b,name,_184d,_184e){if(!this.observers){this.observers=[];}if(_184b.addEventListener){this.observers.push([_184b,name,_184d,_184e]);_184b.addEventListener(name,_184d,_184e);}else{if(_184b.attachEvent){this.observers.push([_184b,name,_184d,_184e]);_184b.attachEvent("on"+name,_184d);}}},unloadCache:function(){if(!Event.observers){return;}for(var i=0,length=Event.observers.length;i<length;i++){Event.stopObserving.apply(this,Event.observers[i]);Event.observers[i][0]=null;}Event.observers=false;},observe:function(_1850,name,_1852,_1853){_1850=$(_1850);_1853=_1853||false;if(name=="keypress"&&(navigator.appVersion.match(/Konqueror|Safari|KHTML/)||_1850.attachEvent)){name="keydown";}Event._observeAndCache(_1850,name,_1852,_1853);},stopObserving:function(_1854,name,_1856,_1857){_1854=$(_1854);_1857=_1857||false;if(name=="keypress"&&(navigator.appVersion.match(/Konqueror|Safari|KHTML/)||_1854.detachEvent)){name="keydown";}if(_1854.removeEventListener){_1854.removeEventListener(name,_1856,_1857);}else{if(_1854.detachEvent){try{_1854.detachEvent("on"+name,_1856);}catch(e){}}}}});if(navigator.appVersion.match(/\bMSIE\b/)){Event.observe(window,"unload",Event.unloadCache,false);}var Position={includeScrollOffsets:false,prepare:function(){this.deltaX=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0;this.deltaY=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0;},realOffset:function(_1858){var _1859=0,valueL=0;do{_1859+=_1858.scrollTop||0;valueL+=_1858.scrollLeft||0;_1858=_1858.parentNode;}while(_1858);return [valueL,_1859];},cumulativeOffset:function(_185a){var _185b=0,valueL=0;do{_185b+=_185a.offsetTop||0;valueL+=_185a.offsetLeft||0;_185a=_185a.offsetParent;}while(_185a);return [valueL,_185b];},positionedOffset:function(_185c){var _185d=0,valueL=0;do{_185d+=_185c.offsetTop||0;valueL+=_185c.offsetLeft||0;_185c=_185c.offsetParent;if(_185c){if(_185c.tagName=="BODY"){break;}var p=Element.getStyle(_185c,"position");if(p=="relative"||p=="absolute"){break;}}}while(_185c);return [valueL,_185d];},offsetParent:function(_185f){if(_185f.offsetParent){return _185f.offsetParent;}if(_185f==document.body){return _185f;}while((_185f=_185f.parentNode)&&_185f!=document.body){if(Element.getStyle(_185f,"position")!="static"){return _185f;}}return document.body;},within:function(_1860,x,y){if(this.includeScrollOffsets){return this.withinIncludingScrolloffsets(_1860,x,y);}this.xcomp=x;this.ycomp=y;this.offset=this.cumulativeOffset(_1860);return (y>=this.offset[1]&&y<this.offset[1]+_1860.offsetHeight&&x>=this.offset[0]&&x<this.offset[0]+_1860.offsetWidth);},withinIncludingScrolloffsets:function(_1863,x,y){var _1866=this.realOffset(_1863);this.xcomp=x+_1866[0]-this.deltaX;this.ycomp=y+_1866[1]-this.deltaY;this.offset=this.cumulativeOffset(_1863);return (this.ycomp>=this.offset[1]&&this.ycomp<this.offset[1]+_1863.offsetHeight&&this.xcomp>=this.offset[0]&&this.xcomp<this.offset[0]+_1863.offsetWidth);},overlap:function(mode,_1868){if(!mode){return 0;}if(mode=="vertical"){return ((this.offset[1]+_1868.offsetHeight)-this.ycomp)/_1868.offsetHeight;}if(mode=="horizontal"){return ((this.offset[0]+_1868.offsetWidth)-this.xcomp)/_1868.offsetWidth;}},page:function(_1869){var _186a=0,valueL=0;var _186b=_1869;do{_186a+=_186b.offsetTop||0;valueL+=_186b.offsetLeft||0;if(_186b.offsetParent==document.body){if(Element.getStyle(_186b,"position")=="absolute"){break;}}}while(_186b=_186b.offsetParent);_186b=_1869;do{if(!window.opera||_186b.tagName=="BODY"){_186a-=_186b.scrollTop||0;valueL-=_186b.scrollLeft||0;}}while(_186b=_186b.parentNode);return [valueL,_186a];},clone:function(_186c,_186d){var _186e=Object.extend({setLeft:true,setTop:true,setWidth:true,setHeight:true,offsetTop:0,offsetLeft:0},arguments[2]||{});_186c=$(_186c);var p=Position.page(_186c);_186d=$(_186d);var delta=[0,0];var _1871=null;if(Element.getStyle(_186d,"position")=="absolute"){_1871=Position.offsetParent(_186d);delta=Position.page(_1871);}if(_1871==document.body){delta[0]-=document.body.offsetLeft;delta[1]-=document.body.offsetTop;}if(_186e.setLeft){_186d.style.left=(p[0]-delta[0]+_186e.offsetLeft)+"px";}if(_186e.setTop){_186d.style.top=(p[1]-delta[1]+_186e.offsetTop)+"px";}if(_186e.setWidth){_186d.style.width=_186c.offsetWidth+"px";}if(_186e.setHeight){_186d.style.height=_186c.offsetHeight+"px";}},absolutize:function(_1872){_1872=$(_1872);if(_1872.style.position=="absolute"){return;}Position.prepare();var _1873=Position.positionedOffset(_1872);var top=_1873[1];var left=_1873[0];var width=_1872.clientWidth;var _1877=_1872.clientHeight;_1872._originalLeft=left-parseFloat(_1872.style.left||0);_1872._originalTop=top-parseFloat(_1872.style.top||0);_1872._originalWidth=_1872.style.width;_1872._originalHeight=_1872.style.height;_1872.style.position="absolute";_1872.style.top=top+"px";_1872.style.left=left+"px";_1872.style.width=width+"px";_1872.style.height=_1877+"px";},relativize:function(_1878){_1878=$(_1878);if(_1878.style.position=="relative"){return;}Position.prepare();_1878.style.position="relative";var top=parseFloat(_1878.style.top||0)-(_1878._originalTop||0);var left=parseFloat(_1878.style.left||0)-(_1878._originalLeft||0);_1878.style.top=top+"px";_1878.style.left=left+"px";_1878.style.height=_1878._originalHeight;_1878.style.width=_1878._originalWidth;}};if(/Konqueror|Safari|KHTML/.test(navigator.userAgent)){Position.cumulativeOffset=function(_187b){var _187c=0,valueL=0;do{_187c+=_187b.offsetTop||0;valueL+=_187b.offsetLeft||0;if(_187b.offsetParent==document.body){if(Element.getStyle(_187b,"position")=="absolute"){break;}}_187b=_187b.offsetParent;}while(_187b);return [valueL,_187c];};}Element.addMethods();