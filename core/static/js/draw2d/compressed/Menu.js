/**
This notice must be untouched at all times.
This is the COMPRESSED version of Draw2D
WebSite: http://www.draw2d.org
Copyright: 2006 Andreas Herz. All rights reserved.
Created: 5.11.2006 by Andreas Herz (Web: http://www.freegroup.de )
LICENSE: LGPL
**/

Menu=function(){this.menuItems=new ArrayList();Figure.call(this);this.setSelectable(false);this.setDeleteable(false);this.setCanDrag(false);this.setResizeable(false);this.setSelectable(false);this.setZOrder(10000);this.dirty=false;};Menu.prototype=new Figure();Menu.prototype.type="Menu";Menu.prototype.createHTMLElement=function(){var item=document.createElement("div");item.style.position="absolute";item.style.left=this.x+"px";item.style.top=this.y+"px";item.style.margin="0px";item.style.padding="0px";item.style.zIndex=""+Figure.ZOrderBaseIndex;item.style.border="1px solid gray";item.style.background="lavender";item.style.cursor="pointer";item.style.width="auto";item.style.height="auto";item.className="Menu";return item;};Menu.prototype.setWorkflow=function(_14aa){this.workflow=_14aa;};Menu.prototype.setDimension=function(w,h){};Menu.prototype.appendMenuItem=function(item){this.menuItems.add(item);item.parentMenu=this;this.dirty=true;};Menu.prototype.getHTMLElement=function(){var html=Figure.prototype.getHTMLElement.call(this);if(this.dirty){this.createList();}return html;};Menu.prototype.createList=function(){this.dirty=false;this.html.innerHTML="";var oThis=this;for(var i=0;i<this.menuItems.getSize();i++){var item=this.menuItems.get(i);var li=document.createElement("a");li.innerHTML=item.getLabel();li.style.display="block";li.style.fontFamily="Verdana, Arial, Helvetica, sans-serif";li.style.fontSize="9pt";li.style.color="dimgray";li.style.borderBottom="1px solid silver";li.style.paddingLeft="5px";li.style.paddingRight="5px";li.style.whiteSpace="nowrap";li.style.cursor="pointer";li.className="MenuItem";this.html.appendChild(li);li.menuItem=item;if(li.addEventListener){li.addEventListener("click",function(event){var _14b4=arguments[0]||window.event;_14b4.cancelBubble=true;_14b4.returnValue=false;var diffX=_14b4.clientX;var diffY=_14b4.clientY;var _14b7=document.body.parentNode.scrollLeft;var _14b8=document.body.parentNode.scrollTop;this.menuItem.execute(diffX+_14b7,diffY+_14b8);},false);li.addEventListener("mouseup",function(event){event.cancelBubble=true;event.returnValue=false;},false);li.addEventListener("mousedown",function(event){event.cancelBubble=true;event.returnValue=false;},false);li.addEventListener("mouseover",function(event){this.style.backgroundColor="silver";},false);li.addEventListener("mouseout",function(event){this.style.backgroundColor="transparent";},false);}else{if(li.attachEvent){li.attachEvent("onclick",function(event){var _14be=arguments[0]||window.event;_14be.cancelBubble=true;_14be.returnValue=false;var diffX=_14be.clientX;var diffY=_14be.clientY;var _14c1=document.body.parentNode.scrollLeft;var _14c2=document.body.parentNode.scrollTop;event.srcElement.menuItem.execute(diffX+_14c1,diffY+_14c2);});li.attachEvent("onmousedown",function(event){event.cancelBubble=true;event.returnValue=false;});li.attachEvent("onmouseup",function(event){event.cancelBubble=true;event.returnValue=false;});li.attachEvent("onmouseover",function(event){event.srcElement.style.backgroundColor="silver";});li.attachEvent("onmouseout",function(event){event.srcElement.style.backgroundColor="transparent";});}}}};